---
apiVersion: v1
kind: Secret
metadata:
  name: nova-cell1-compute-config
data:
  01-nova.conf: Zm9vCg==
  nova-blank.conf: Zm9vCg==
---
apiVersion: v1
kind: ConfigMap
metadata:
  name: ovncontroller-config
data:
  ovsdb-config: test-ovn-config
---
apiVersion: dataplane.openstack.org/v1beta1
kind: OpenStackDataPlane
metadata:
  name: openstack-edpm-no-nodes
spec:
  deployStrategy:
      deploy: false
  roles:
    edpm-compute-no-nodes:
      nodeTemplate:
        ansibleSSHPrivateKeySecret: dataplane-ansible-ssh-private-key-secret
        ansibleVars:
          edpm_ovn_metadata_agent_DEFAULT_transport_url: rabbit://default_user@rabbitmq.openstack.svc:5672
          edpm_ovn_metadata_agent_metadata_agent_ovn_ovn_sb_connection: tcp:10.217.5.121:6642
          edpm_ovn_dbs:
          - 192.168.24.1
          edpm_ovn_metadata_agent_metadata_agent_DEFAULT_nova_metadata_host: ""
      services:
        - configure-network
        - validate-network
        - install-os
        - configure-os
        - run-os
        - ovn
        - libvirt
        - nova
        - telemetry
